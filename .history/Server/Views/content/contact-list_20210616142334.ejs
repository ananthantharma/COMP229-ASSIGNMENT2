<h1><%= title %></h1>

<div class="row">
    <div class="col">

        <% if(displayName) { %>
        <a href="/contact-list/add" id="addButton" class="btn btn-primary mb-1"><i class="fas fa-plus-circle"></i> Add Contact</a>
        <% } %>


<p><button onclick="mysortTable()">Sorting table data</button></p>

        <table class="table table-dark table-striped table-bordered table-hover" id="sortTable">
  
       
  
  
            <thead class="table-dark">
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Phone#</th>
                <th scope="col">Email</th>

                 <% if(displayName) { %>
                  <th></th>
                  <th></th>
                <% } %>
              </tr>
            </thead>
            <tbody>

             <!-- Repeatable Row Template -->   

             <% for(let count = 0; count < contact.length; count++) { %>
           
                <tr>
                    <th scope="row"><%= count + 1 %></th>
                    <td><%= contact[count].name %></td>
                    <td><%= contact[count].phone %></td>
                    <td><%= contact[count].email %></td>

                     <% if(displayName) { %>
                      <td class="text-center"><a href="/contact-list/edit/<%= contact[count]._id %>" class="btn btn-primary btn-sm edit"><i class="fas fa-edit fa-sm"></i> Edit</a></td>
                      <td class="text-center"><a href="/contact-list/delete/<%= contact[count]._id %>" class="btn btn-danger btn-sm delete"><i class="fas fa-trash-alt fa-sm"></i> Delete</a></td>
                    <% } %>
                </tr>

              <% } %>


            </tbody>
          </table>
          
<script>
function mysortTable() {
var tables, rows, sorting, c, a, b, tblsort;
tables = document.getElementById("sortingTable");
sorting = true;
while (sorting) {
sorting = false;
rows = tables.rows;
for (c = 1; c < (rows.length - 1); c++) {
tblsort = false;
a = rows[c].getElementsByTagName("TD")[0];
b = rows[c + 1].getElementsByTagName("TD")[0];
if (a.innerHTML.toLowerCase() > b.innerHTML.toLowerCase()) {
tblsort = true;
break;
}
}
if (tblsort) {
rows[c].parentNode.insertBefore(rows[c + 1], rows[c]);
sorting = true;
}
}
}
</script>


    </div>
    
</div>